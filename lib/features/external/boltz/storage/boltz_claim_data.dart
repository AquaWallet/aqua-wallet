import 'package:coin_cz/features/external/boltz/storage/boltz_storage_provider.dart';
import 'package:freezed_annotation/freezed_annotation.dart';

part 'boltz_claim_data.freezed.dart';
part 'boltz_claim_data.g.dart';

/// Data that needs to be passed to `claim()` function to be able to broadcast the claim tx
@freezed
class BoltzClaimData with _$BoltzClaimData {
  const factory BoltzClaimData({
    required String id,
    required String
        mempoolTx, // This is retrieved from the boltz `transaction.mempool` swap status update
    required String redeemScript,
    required String privateKey,
    required String? preimage,
    required String onchainAddress,
    required String privateBlindingKey,
  }) = _BoltzClaimData;

  factory BoltzClaimData.fromJson(Map<String, dynamic> json) =>
      _$BoltzClaimDataFromJson(json);

  factory BoltzClaimData.fromReverseSwapData(
      BoltzReverseSwapData reverseSwapData, String mempoolTx) {
    return BoltzClaimData(
      id: reverseSwapData.response.id,
      mempoolTx: mempoolTx,
      redeemScript: reverseSwapData.response.redeemScript,
      privateKey: reverseSwapData.secureData.privateKeyHex,
      preimage: reverseSwapData.secureData.preimageHex,
      onchainAddress: reverseSwapData.response.lockupAddress,
      privateBlindingKey: reverseSwapData.response.blindingKey,
    );
  }

  /// Mock data
  static BoltzClaimData get mock => const BoltzClaimData(
        id: 'MCWqmL',
        mempoolTx:
            '0200000001012fb823a35f5d6870cfeed4127789d8605abb719b87ead50a81abb543890324850000000000fdffffff020b0aad0aabeb5f78b8fad5412a65729bda84f31981e5850c1593af8e21b987fe38095b3740036f3e5a8f30d376ac578debddc9bd4e1fa3934afd578f742390eb8f030370c08bcb4bd9094f6dbe8219a7d64549ec7dee068a49b7fd29793a3013a3be2217a9141735ff67be1c3b6c84945515ace6bb893000079187016d521c38ec1ea15734ae22b7c46064412829c0d0579f0a713d1c04ede979026f010000000000000098000000000000000003483045022100bd600fd97f5d84e95aee99645124e93e2bf97eef748f3e4c3b14cd7dea19c60e02205fc677ea5b309204040c0a6f62986a77b76081e218bd769adaf8aa5b1a6edece0120ad20b3a3cad6ca33343b1553b440257bfd95a995c6a279b4b896115db84c1b926a8201208763a914716ee72d3b0601900d34b923690e8f9d31fa7a05882102bcd59e3a9986025aea729114c05a7ccc2d35de76c56548d1fcc4b619db7bf8c0677503964d26b1752102dff8b661b0e7b493007ed1049be78206831394986ea2f7df8a296de0a32a855b68ac00430100010f00501fb7d72a2363f4b3e5f2c418c54a368cfa7d3a08f0982da3b6d1680e41973d0bb0f8c766302693a370292857408a2bbf401363d1fd38615c632db5ab7cfd4e1060330000000000000001544c850129925f6efde7bd33a7e50f60f016c67b020f518c4a0e47183031ec1d8c13cefb458dceda0cd676618e0b160ccb306bcc1c2f688c6ed5771bf279b593615d2cb64b0c515aa0023e07524a96110b5acb2918be4cedcc9ae7195ddbf9a274b91c820d3ef69ece26ff47b21d43b100075394a4d769cddb9ea3b9f47e2448c2e45289bb1092876c418f21501ba74faf8b6534e99c3765afe3ebe427e8fb1617fa5d005dafa5526d92815568cc8233d189ac345a950a87473cf760df81340c7067953ad72ba53255bb34684f513d6b0ff9c46c3226cdd4a15aa7d269cf503af1423a15cc2ad3837c6fddd1276d1ab5888604cc9a864074ebaa5edd313d1651d31a81b577585c0725ccb66424f8b035a12a87d89f2c12d0ac31377b51e886a20d3f32a34d09a96620ed5ce76d4602dfcd8a872ef7ff134a8ab58245275e4d247ac99f955736e49ed1f02b470fd53f8801d7d19f45edd6208f8711eff76564c4c972ac4b28dd10e20a621d2812bc0a5d3e7437a0257f86425ad52ed6904306642b7589ddfb46a7b1cf10d8222e60312990bba0ae7eee8646633dc0407cd32b01c9abcb88f33416ed89170b5f43bf0a6936702d78979ba84d9c0b2cff71412c7e1329f46f328ebe2739305018662b0018244f09bdf0da74c2819c7c754ae54f942b2f235d4732589572e412000e4d06c7f9d4b1b5a3563bdf4f264aa76a10eb0c7f7f3beecb9a72448804ef2c834534793e8e730dc9574f55ef16748d2f8bc050d613dce527fe0db58fd390a79b97e8024cdbaaca499b6d0f49839a216aa9385ed11982b5ec74c52cced93e4173babbfedb7112e2b6df7f16708c68dfaafa9df175576a7fdd540931fc26df1460ced46e73dc0048d1e0c3ce1905d74aae09ec521c69be5aef4bf1211b84c0782d36c0859d735265f7b04d2c45063b93140186ce6f197e3498b7e94e4593a1238db4b7754bfeec025eab0600dd42db9195f142d77217717aa29cea82a1349364634bc2dffd88f7d7b43f448ef70c60859b3f3cb485c93440fdd0bf577cb8aea422b5deceff4f04c87a0f4634a0287f5a7763e6f91ef9b03c510c21d2f9532f4bafc5ac854433a665afc2cdc865fe50ec0d3a6604303eecf2765a88ed02c830d365af55f3f9f3b8abdd954d89afb324f2cbaf4bd899536b0c5f317ee027ef3cd59bef926c6aaaa749b2ec5f67989429db5deefae0516fe0d6fb39c60d69b361925f3bc9051738fd16b6201fc4bb46caa87f1c33a4dd134967bc1e8ba5544c5a0f401d2be4b2ce31f7146269dfdff31864903fcfb28f46ca9615a66d410e8c05444c96d4dfd24ac097cd9272b44a9cb01623977761ee91cd2e456eb05cd7e99da2938948525237a99e4f3d7cecde4aef1f8c961d7c25f37ad94eac30301d76d4f924110e4782c86c81ece1cdd007dea7fc3d831689c6de8666c61e865dc473ebd1bc3be69db3c61f921dda715d7826dd1362881e6b90c10d0df76755a24845672c2bcccbb301df26a9337780ad0c16d8da4a73286a4940ba868290fe8d44cca8600af9619d30ffd9b1e3ae4268d8a644d10e5efebc507d185f0e8300de16fdf0c61dcafb75b8258b12e0233faf86bc13af67a2c328a23065e1102518b9d3936edddbee771edf284ca714bd42aad1e0dfbd282e114162cd281d322dcdad23334ef37671a7356852b16fc18c203936251e2f28a350b28e115847dc6c8817db093dc7e6f5a415343f1be04749a7c94c567b14b64b86cbdd6a8d2e919ec1b5324710504e9fcfee350d56a3f21853ea088a9373132213367cbdedbeeb0e5043e24d476c9a46ea194e407c7e9832613f6bd18ef40cb2edd726afab72b0e3e35df687687e4b05ca35e218c21370af407a6831635598abceeaf3ce6f38c0c876ea1c7a61950b2064a6f768482eea3b44ef56749d3ee856e0c3408c308056a8ff06c0cf3d4cbcc3c6dfaeaf926c342519558008828a4a112dfdde05e22d950c6aaab51fa3ac8eca833b5ae99c0e232ba843f5b39d051c91fba6bb944b8003efc425eebeab3ea7a93a272501230b206a74202d7da717f7852df6f6cb07c90a6ae6ea7437b73f427f9428b2213689d633d67840653370c0870bf318275c4e27763fcc321449e9f62658bac27b7b49c6615aaceeba0992b70175ab19f7c7ec5c7cc27aa2ad3d3dd358f5563bcc334e98c6f9f6757e727d3bebe7f8a7856f0740695fd55309bfe863e4e36aae8c91e082fcceaed0aac5f4d369c6d112f36a977eb146d99a064645c94754cdda01d12a309700ed392ac7d7578ee4859bbccdd32ed4231e310742a61d2ad62e24980683f5a849b3d7f3a8e72395a57f8add7f2e4869d30ec04a1c0bf021d3d67eaa6561046e77233971f331fa2ce79c370c51c5509934291b067f0da7f29c8aea2fb1c16d97550589e0727955a89b4ee778d97486318d1b3f826a73db4781b8c452aa6e69f3abcea46b30154cf479f0a5e8f80d58f1ddc013c94041d2955731433aaefa9b3f65a6100dcab78daa5bbcb359178c3b12e4f0d81c19ff75a1701333d789cde2f15a673c3bf66af4c34eaf98805cd2dfa59583fcb82f3bc40f238e0b3228cda421b72f453f3ea1c0ecfb7ee05875a9532e055cb1d9fe6757264a743adf9ac1f4937e4c3b7f2da89c4e661694abad2625dbb186014c756b615b8dd641f614716358548806609978c65767806fc572241b0fd2684dbcdcd25c1ea7e4826a619f643c6cc9370155afbc94e8c6468d925a154d5650b111b44c057e66a43d8f41f34e030de7643b642a8e5c24d87b8f2a5f0e2f9b92359628c86258fbf9803b9b09610a51659e47c20b72fd16cefbf4d89fc678a28a9472dcb42676b63335cefda502ee072e291dce79e7a6833f09931c4e5cc192a00fe23052a74052f70e485586c9053bfb749bd7ffadab997e031019e2d5c35c6e81e4c010c901675452e9f33accfcb59a6365dc9be277a8e7abe7e1a09712e17e05fcb33e0a6409811c1ff16e7ce7e37ed873a57228e50fefacb371e95b72822a4c2004df826a4f80781cbca4b7fdf72cd21c793e3dfe54cd0c210f779a5b1ada9c4c17732f8cdae5356901b9d1766ff355aa620e46a473dc0c9b3734da6371f549f48c3a67a95b68281bbb103c695f8d49d683f6daffeed52b972ff2c3091ea1d2033dd9bb057da6e4503a6650956f0e717ef98cee78c22ccb1893b8fac826f7d2d77339b51b8eb8817ddb7001f2d09b06b0fcda444ed7e6aabd72410f9770eb4edef1ebec935419da875aef31ba3e462a4b500dc754a084645cb495a98b02290995dc6c09ed3d2ec483ae42d4f7a3185ed5a9fa30b103281dc6f936c0b56f93bc8b0a689026e52efbf6a71a09c1b3ee2512b1bb0ad7909f52f4d9a3efbe841cda05d0402560543b0e54179c8933805e9b6c1b7883cd82c006849840de430b88f5804d721c0bf5b08f6c9fc4d5582313a1d4ee4b4d0e1024f2082e4012ff1fd19a1151c11774d313384d2c25386de0f780d0d13b99709eb75eb826336b32169fa9beabf4be6cd45ff701a4e30685565ab6c2a407825aa089ba4351375d008d74f864c6704c7e5226a707206a7d5c4e2a6417176dfeb14a86a9b6b01427046738920e3f2853922e40acc01a07401baa2a2d414ba64d3dc38397b930f494765b89544e442c0e243ddf23157baafcf5c19ee2a501cdaeb53963e32706a0f0f1763ef82a2f7d5dc54a3155cb5a9ac590d89c01ea70c03e3d643ebf99cc2fd15f07989b897a9e69e5b3c68ea4330d401c8ffd86d96998971f35e70c8b342c109388529e24c8afe49b38a3734bd3879e7bdc5e7108083d55bc35afb4ed859c52de9c087668f2def35037938691662e4372ebe7a7ceda9a1f0cf699b4187d312438a5ceb2dad52e8388e7d3481fa19eb79b26f5f7c2bbf17294a2836a184b3dc97635b5e0f0de4ec6b70c32ad160a8b94dfd7029fa5b1e5113e847877a381c5c4e471f0e82c3a8861e2b08542e15f8d1ea018d278ae518e7f5716fce496b2bf9f6348711404511cd182856fe52415841e80ce4af6cf9d9d1df17ad6a4f446b235446fc652e70d83a7b0641185a0ffa112ddf0244349700703d1009e0f928c9d6ed740e6151e9212eeeb4977137b2ee525ba07d538c18c79ea596362c3ecf014b4a694bba1818f90e1e743eea6c373b171df15a6b7af298ec6d8bf3571c2a4bb96bc6471d03e23cf06a3b7347f5d71a040cddafb5f66bed34ea6961a9faf06535e0fdf95e140b7e153905fa32104cc30a9ed1943ba9b717a4566fde620e19ffee8d096b7b1f92fefa164af215f734e9064134ec6040da8d199ad23aa17139b25a4de9109f21ba113a1364f2b526053ff9f944c54e1b72d066999e657df5d5d3a5a4391060e98f6a2ec9c8a01b560ebcefd494117d69b3373e12117e28228185584f790b42516f031ad82971e3a8fda11c9148ed84cec973c3b7690248012e5fbd458dd0386879ff02f984c2c410203ce3032bd0983d783e632f1979bec83a033197e3035c82b95fb9ac7c3ff345a41a4fc4d80119773d1e2312d5bb436c9ccfb88608ab47a8241df186616e3a946709c178a9c16a94bff20ec4fea350edc694e6771c71ac9519c3e28fb31db9a222e9b9905cf3afb50cc2385a2147d4b23f236bd1aa4d799e2adc07dc51cafe284854a4e7279add606876dfb94a9b6eece95db79e2d218115d26f4c099ec839d3709348c00dbc6d0f1eaff1a9e511a7c406e2f438d60dde916167acd6d3eadc7f7f16c55ecff56c4843026bdc3b4d8a18e1414decc104786f992d023c3c8b9429b785a1f65b12dfa6d2fa568325358dace7cfbf1c5136eb431ed75875d9e2d6abc9ab730af33d45b8343016fb0e18c800cf7690e926a51cf801505697bd35770f9ac775c3f15ba82593de9026d746abe47955cc75c97a0d1efa7a174efbe55fd373eba167167ff4d9d04c7bb14ed4832b8b08473c6e0e5c17f457c237325424c784c14ff9a46b884042184a6bbdd623823aeb6c1afa7993f6e80a1645b5cf70fde9b8644251e3b219191e055c1ecb6bdb77d15784690a971c24d993cded2aa3ca3b4f6d2cee43e0f30ee6273b678ed32b6c8572c384b0d493ca1ecb05afe4dde3eb75e6a4f2c2f16b5e2a6ea9be912aa5fa3adfb797df200fbfdce44437d44695fba5027e470a093d3c098e7ba5ea8e5ea2234072a04dd8f08ce3eb360b8ae102c83cbc9122e190e63f9ed562c1e6eb75fd63813ac7b93a8e71131fbe7948cef067183326135acc0b4566af253f92ffcb853d04a8d24878c57360b1c3ec05c38e0d37473fc0be55fd107c8a0f3b357d71ddb846a890d1c6514fe389ef266b186743c4c2dcf3b99677777d2d1c7a01ea4e060d84507fc04f547b0947ca43b839e4a176732570ba6545b12ef183f50fc2d8ca202bc61d5115ba2074283463b6407fe03fc43184890df15cbf8915df01a6175c41e713e53246900a7b2d234aca0dc2a6b829603a7f3f43918ddf5871c1377e068e1d2649560e06a399b711eecda390284db9bfaef48ae386907bfc78f0e44ca858fa465d821fb4269b2c8b8cef46f04478501e6ce5bba2f41eed202bc18447c4e4708772ac31702f7bacacfd21713c4f770a8b66e138a1b1c1b974d644da74d2574f4e8550c7170886ad36200a5aba1556d2fd02d88fffd51948ba09dbe75eedb4fee815fe5d91ad6361b8b8cc916a0617f2e2ecf76fb4a76de3f7b87a2460d7935ff6310ed801fab4e86eededf7c8f7defd19e0b42b8cae60a0edd4bcbdbccce44ee065baa70c4bb7d78832602d4e7604d3e928a73e765464af094eef721888ef1aa4ecfddd9ff2266ee312990063e49e3ef8756d64442d7932b414f20ba951b450000',
        redeemScript:
            '8201208763a914f94e1f1884db1eec70faf58b6c5bd6c470bf32bc882103b12cbd549c8184b24bce0dd50412401c4a549a392c5e574a8fc1d0b84c7a2197677503546226b1752103d18a7c8a412bcf7da593d3edbe8711062bf17fa1842543d736862daae909761168ac',
        privateKey:
            'c39610d1c06f660c4dbc6e274c26ed22e92686173e5d092a23032e24fd8b41ac',
        preimage:
            '915b48554780dbe4175ef4e68e077b8e29338c1bdd54665952501d34a0216694',
        onchainAddress:
            'VJLFpn7F1a3Jd1cmaNSA7vixNA6i3H3p6XZKKvEb8jhPk1HoQGMcV7hFTAtrbX1DcvNJMiPHH8zo1tEy',
        privateBlindingKey:
            '26a20a75bcfd2aab676aae5d2a2373a8e4d89abe0c544f7cb62834efef6a01d2',
      );
}
